!function(n){var i={};function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=n,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="./",r(r.s=17)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}e.exports=n},function(t,e,n){var i=n(10),r=n(11);t.exports=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}},function(t,e,n){var i=n(7);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var i=n(14),r=n(15),o=n(16);t.exports=function(t){return i(t)||r(t)||o()}},function(n,t){function i(t,e){return n.exports=i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}n.exports=i},function(e,t,n){var i=n(2),r=n(7),o=n(12),s=n(13);function c(t){var n="function"==typeof Map?new Map:void 0;return e.exports=c=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return s(t,arguments,i(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r(e,t)},c(t)}e.exports=c},function(t,e,n){},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(t){return typeof t}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}e.exports=n},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(i,t,e){var o=e(7);function r(t,e,n){return!function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}}()?i.exports=r=function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&o(r,n.prototype),r}:i.exports=r=Reflect.construct,r.apply(null,arguments)}i.exports=r},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){"use strict";n.r(e);n(9),n.p,n.p;var i=n(5),r=n.n(i),o=n(0),s=n.n(o),c=n(1),a=n.n(c),u=n(3),d=n.n(u),l=n(2),p=n.n(l),h=n(4),f=n.n(h),y=document.createElement("template");y.innerHTML='\n<style>\n.main  {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n }\n\n nav, footer {\n    flex: 0 0 55px;\n    align-self: stretch;\n    display: flex;\n    justify-content: center;\n }\n\n nav {\n   background: #0072BC;\n   color: white;\n}\n\nfooter {\n   background: #3D3D3D;\n   color: #9F9F9F;\n}\n\n.content-wrapper {\n   flex: 1 0 auto;\n   display: flex;\n   max-width: 1140px;\n   margin: 40px 0 40px 0;\n}\n\n.left-column {\n    flex: 0 1 260px;\n    margin: 0 30px 0 0;\n }\n \n .right-column {\n    flex: 0 1 840px;\n } \n \n .cities-wrapper {\n    border: 1px #D1D1D1 solid;\n    border-radius: 5px;\n }\n\n .head-wrapper {\n     display: flex;\n     flex-basis: 1140px;\n     align-items: center;\n }\n\n h2 {\n    margin: 0 0 10px 0px;\n }\n \n\n \n</style>\n\n\t<div class=main>\n\t    <nav>\n                <div class="head-wrapper">\n                    <h1>Countries of the Word</h1>\n                </div>\n        </nav>\n\t    <div class="content-wrapper">\n            <div class="left-column">\n                <h2>Countries</h2>\n            </div>\n            <div class="right-column">\n                <h2>Cities</h2>\n                <div class="cities-wrapper">\n                    <div class="add-city"></div>\n                    <div class="cities-list"></div>\n                </div>\n            </div>\n\t\t</div>\n\t\t<footer>\n\t\t    <div class="head-wrapper">\n\t\t        <h3>Test task</h3>\n\t\t    </div>\n\t\t </footer>\n\t</div>\n';var b=n(8);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var m=function(t){function n(t){var e;return s()(this,n),(e=d()(this,p()(n).call(this))).props=t,e.attachShadow({mode:"open"}),e.anchor=t.anchor,e.actionService=t.actionService,e.onInit(),e.state=t.state,e}return f()(n,t),a()(n,[{key:"onInit",value:function(){}},{key:"state",set:function(t){this._state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t),this.render()},get:function(){return this._state}},{key:"template",set:function(t){this._template=t.content.cloneNode(!0),this.shadowRoot.appendChild(this._template)},get:function(){return this._template}}]),n}(n.n(b)()(HTMLElement)),g=document.createElement("template");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}g.innerHTML='\n<style>\n    ul{\n        list-style: none;\n        margin: 0;\n        padding: 0;\n    }\n \n</style>\n<ul class="list">\n    \n</ul>\n\t\n';var x=function(t){function e(t){return s()(this,e),d()(this,p()(e).call(this,t))}return f()(e,t),a()(e,[{key:"onInit",value:function(){this.template=g}},{key:"initAttributes",value:function(){this.dataset.selected=""+this.props.state.selected}},{key:"render",value:function(){this.anchor.appendChild(this),this.list=this.shadowRoot.querySelector(".list"),this.renderList()}},{key:"renderList",value:function(){var n=this;this.list.innerHTML="",this.state.listView.forEach(function(t){var e=document.createElement("li");new n.props.itemConstructor({state:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t),anchor:e,actionService:n.actionService}),n.list.appendChild(e)})}},{key:"addListeners",value:function(){var t=this;this.addEventListener("click",function(){t.actionService.dispatch("countrySelected",t.state.id)})}}]),e}(m);customElements.define("my-component-list",x);var O=document.createElement("template");O.innerHTML='\n<style>\n    .wrapper {\n        background: #F0F0F0;\n        padding: 10px;\n        margin: 1px;\n    }\n    \n    .wrapper:hover {\n        cursor: pointer;\n    }\n \n    .title {\n        color: #0072BC;\n        padding: 0;\n        margin: 0;\n    }\n    \n    .description {\n        margin: 0;\n        color: #4D4D4D;\n    }\n    \n    :host([data-selected="true"]) .wrapper{\n        background: #0072BC;\n    }\n    \n     :host([data-selected="true"]) .title{\n        color: white;\n    }\n   \n    :host([data-selected="true"]) .description{\n        color: white;\n    }\n        \n    \n</style>\n<div class="wrapper">\n    <h2 class="title"></h2>\n    <p class="description"></p>\n</div>\n\t\n';var j=function(t){function n(t){var e;return s()(this,n),(e=d()(this,p()(n).call(this,t))).initAttributes(),e.addListeners(),e}return f()(n,t),a()(n,[{key:"onInit",value:function(){this.template=O}},{key:"initAttributes",value:function(){this.dataset.selected=""+this.state.selected}},{key:"render",value:function(){this.anchor.appendChild(this),this.shadowRoot.querySelector(".title").textContent=this.state.title,this.shadowRoot.querySelector(".description").textContent=this.state.text}},{key:"addListeners",value:function(){var t=this;this.addEventListener("click",function(){t.actionService.dispatch("countrySelected",t.state.id)})}}]),n}(m);customElements.define("my-component-item",j);var S=document.createElement("template");S.innerHTML='\n<style>\n\n    .wrapper {\n        display: flex;\n        padding: 15px;\n        border-top: 1px #D1D1D1 solid;\n        color: #4D4D4D;\n    }\n \n    .button-wrapper {\n        display: flex;\n        align-items: center;\n    }\n    \n    .edit-button, .delete-button {\n        margin: 5px;\n        width: 20px;\n        height: 20px;\n        background-repeat: no-repeat;\n        background-position: center;\n    }\n    \n    .edit-button {\n         background-image: url("././images/pencil.png");\n          background-size: 15px 15px;\n    }\n    \n    .delete-button {\n        background-image: url("././images/basket.png");\n        background-size: 20px 20px;\n    }\n    \n    .edit-button:hover {\n        cursor: pointer;\n    }\n    \n     .delete-button:hover {\n        cursor: pointer;\n    }\n    \n     .edit-button[data-disable="true"],.delete-button[data-disable="true"]{\n        opacity: 0.4;\n        pointer-events: none;\n    }\n    \n   .title {\n        padding: 0;\n        margin: 0;\n    }\n    \n    .description {\n        margin: 0;\n    }\n    \n    \n</style>\n<div class="wrapper">\n    <div class="content-wrapper">\n        <h2 class="title"></h2>\n        <p class="description"></p>\n    </div>\n    <div class="button-wrapper">\n        <div class="edit-button" ></div>\n        <div class="delete-button" ></div>\n    </div>\n    \n</div>\n\t\n';var k=function(t){function n(t){var e;return s()(this,n),(e=d()(this,p()(n).call(this,t))).initAttributes(),e.addListeners(),e}return f()(n,t),a()(n,[{key:"onInit",value:function(){this.template=S}},{key:"initAttributes",value:function(){this.dataset.selected=""+this.state.selected,this.editButton.dataset.disable=""+this.state.disable,this.deleteButton.dataset.disable=""+this.state.disable}},{key:"render",value:function(){this.anchor.appendChild(this),this.shadowRoot.querySelector(".title").textContent=this.state.title,this.shadowRoot.querySelector(".description").textContent=this.state.desc,this.editButton=this.shadowRoot.querySelector(".edit-button"),this.deleteButton=this.shadowRoot.querySelector(".delete-button")}},{key:"addListeners",value:function(){var t=this;this.editButton.addEventListener("click",function(){t.actionService.dispatch("editCityMode",t.state)}),this.deleteButton.addEventListener("click",function(){t.actionService.dispatch("deleteCity",t.state)})}}]),n}(m);customElements.define("my-component-item-with-button",k);var C=document.createElement("template");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}C.innerHTML='\n<style>\n    :host([data-hidden="true"]) {\n        display: none;\n    }  \n    \n    .wrapper {\n       display: flex;\n       flex-direction: column;\n       padding: 15px;\n       background: #F7F7F7;\n       box-sizing: border-box;\n    }\n    \n    input, textarea {\n        height: 45px;\n        border: 1px #D1D1D1 solid;\n        border-radius: 5px;\n        box-shadow: 1px 1px 2px rgba(0,0,0,0.5);\n        margin: 15px 0 7px 0;\n        padding-left: 20px;\n        outline: 0;\n        font: inherit;\n    }\n    \n    .button-wrapper {\n        margin-top: 15px;\n    }\n\n    input[data-error="true"] {\n         border: 1px red solid;\n    }\n    \n    input:focus, textarea:focus {\n        border: 1px #0072BC solid;\n        box-shadow: 1px 1px 2px rgba(0,114,188,0.5);\n    }\n    \n     textarea {\n        height: 80px;\n        padding-top: 15px;\n        resize: none;\n    }\n    \n    .submit-button, .cancel-button {\n        border: none;\n        outline: none;\n        width: 110px;\n        height: 45px;\n        border-radius: 5px;\n        font-size: 17px;\n        margin: 0 15px 0 0;\n    }\n    \n    .submit-button {\n        background: #0072BC;\n        color: white; \n    }\n    \n    .submit-button:hover {\n        box-shadow: 2px 2px 4px rgba(0,114,188,1);\n        cursor: pointer;\n    }\n    \n    .cancel-button {\n        background: white;\n        color: #4D4D4D; \n        border: 1px #D1D1D1 solid;\n    }\n    \n    .cancel-button:hover {\n        box-shadow: 2px 2px 4px rgba(0,0,0,0.5);\n        cursor: pointer;\n    }\n    \n    .title {\n        color: #0072BC;\n        margin: 0px;\n    }\n\n    \n \n</style>\n<div class="wrapper">\n    <h2 class="title">Add city</h2>\n    <input type="text" placeholder="City Name..." name="cityName" required="">\n    <textarea placeholder="City Description..."></textarea>\n    <div class="button-wrapper">\n        <button type="submit" class="submit-button">Submit</button>\n        <button class="cancel-button">Cancel</button>    \n    </div>\n</div>\n\t\n';var P=function(t){function n(t){var e;return s()(this,n),(e=d()(this,p()(n).call(this,t))).initAttributes(),e.addListeners(),e}return f()(n,t),a()(n,[{key:"onInit",value:function(){this.template=C}},{key:"initAttributes",value:function(){this.dataset.hidden=""+this.state.hidden}},{key:"render",value:function(){this.anchor.appendChild(this),this.submitButton=this.shadowRoot.querySelector(".submit-button"),this.cancelButton=this.shadowRoot.querySelector(".cancel-button"),this.input=this.shadowRoot.querySelector("input"),this.input.value=this.state.title,this.input.focus(),this.textarea=this.shadowRoot.querySelector("textarea"),this.textarea.value=this.state.desc}},{key:"addListeners",value:function(){var t=this;this.submitButton.addEventListener("click",function(){t.input.value?t.actionService.dispatch("submitAddCity",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t.state,{title:t.input.value,desc:t.textarea.value})):t.input.dataset.error="true"}),this.input.addEventListener("focus",function(){delete t.input.dataset.error}),this.cancelButton.addEventListener("click",function(){t.actionService.dispatch("cancelAddCity")})}}]),n}(m);customElements.define("my-component-editor",P);var D=document.createElement("template");D.innerHTML='\n<style>\n    :host([data-hidden="true"]) {\n        display: none;\n    }  \n    \n    button {\n    outline: none;\n        border: none;\n        width: 135px;\n        height: 45px;\n        border-radius: 5px;\n        font-size: 17px;\n        margin: 15px;\n        background: #0072BC;\n        color: white;\n    }\n    \n    button:hover {\n        box-shadow: 2px 2px 4px rgba(0,114,188,1);\n    }\n \n</style>\n    <button></button>\t\n';var L=function(t){function n(t){var e;return s()(this,n),(e=d()(this,p()(n).call(this,t))).initAttributes(),e.addListeners(),e}return f()(n,t),a()(n,[{key:"onInit",value:function(){this.template=D}},{key:"initAttributes",value:function(){this.dataset.hidden=""+this.state.hidden}},{key:"render",value:function(){this.anchor.appendChild(this),this.shadowRoot.querySelector("button").textContent=this.state.title}},{key:"addListeners",value:function(){var t=this;this.addEventListener("click",function(){t.actionService.dispatch("addCityMode")})}}]),n}(m);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}customElements.define("my-component-button",L);var T=function(t){function n(t){var e;return s()(this,n),(e=d()(this,p()(n).call(this,t))).eventService=t.eventService,e.render(),e.addListeners(),e}return f()(n,t),a()(n,[{key:"onInit",value:function(){this.template=y}},{key:"addListeners",value:function(){var e=this;this.eventService.subscribe("stateChanged",function(t){e.state=t,e.applyChanges()})}},{key:"render",value:function(){this.anchor.appendChild(this),this.renderCountries(),this.renderCities(),this.renderAddCity()}},{key:"renderAddCity",value:function(){var t=this.shadowRoot.querySelector(".add-city");t.innerHTML="",new P({anchor:t,actionService:this.actionService,state:this.state.editorView}),new L({anchor:t,actionService:this.actionService,state:{hidden:!this.state.editorView.hidden,title:"+ Add City"}})}},{key:"renderCountries",value:function(){var t=this.shadowRoot.querySelector(".left-column");this.countriesListComponent=new x({anchor:t,actionService:this.actionService,state:{listView:this.state.countriesView},itemConstructor:j})}},{key:"renderCities",value:function(){var t=this.shadowRoot.querySelector(".cities-list");this.citiesListComponent=new x({anchor:t,actionService:this.actionService,state:{listView:this.state.citiesView},itemConstructor:k})}},{key:"applyChanges",value:function(){this.countriesListComponent.state={listView:this.state.countriesView},this.citiesListComponent.state={listView:this.state.citiesView},this.renderAddCity()}},{key:"state",set:function(t){this._state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)},get:function(){return this._state}}]),n}(m);customElements.define("my-component-main",T);var B=n(6),A=n.n(B);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function U(){return{CHANGE_COUNTRY:function(t,e){return I({},e,{selectedCountry:t,countriesView:(n=e.countriesList,i=t,A()(n.map(function(t){return t.id==i?t.selected=!0:t.selected=!1,t}))),citiesView:K(e.citiesList,t),editorView:{hidden:!0}});var n,i},OPEN_EDITOR:function(t,e){return I({},e,{editorView:I({},t),citiesView:A()(e.citiesView.map(function(t){return I({},t,{disable:!0})}))})},ADD_CITY:function(t,e){var n=function(t,n,e){for(var i=n.length+1,r=function(e){if(!n.filter(function(t){return t.id===e}).length)return i=e,"break"},o=1;o<n.length+1;o++){if("break"===r(o))break}return n.splice(i-1,0,{id:i,country_id:e,title:t.title,desc:t.desc}),n}(t,A()(e.citiesList),e.selectedCountry);return I({},e,{citiesList:n,citiesView:K(n,e.selectedCountry),editorView:{hidden:!0}})},CLOSE_EDITOR:function(t,e){return I({},e,{editorView:{hidden:!0},citiesView:A()(e.citiesView.map(function(t){return delete t.disable,t}))})},CHANGE_CITY:function(e,t){var n=t.citiesList.map(function(t){return e.id===t.id&&(t=I({},e)),t});return I({},t,{citiesList:n,citiesView:K(n,t.selectedCountry),editorView:{hidden:!0}})},DELETE_CITY:function(e,t){var n=t.citiesList.filter(function(t){return e.id!==t.id});return I({},t,{citiesList:n,citiesView:K(n,t.selectedCountry)})}}}function K(t,e){return A()(t.filter(function(t){return t.country_id==e}))}var M=function(){function e(t){s()(this,e),this.eventService=t.eventService,this.reducers=U(),this.state={citiesList:[{id:1,country_id:1,title:"London",desc:"The United Kingdom of Great Britain and Northern Ireland, commonly known as the United Kingdom(UK) or Britain, is a sovereign state in Europe."},{id:2,country_id:1,title:"Liverpool",desc:"The United Kingdom of Great Britain and Northern Ireland, commonly known as the United Kingdom(UK) or Britain, is a sovereign state in Europe."},{id:3,country_id:2,title:"Paris",desc:"The United Kingdom of Great Britain and Northern Ireland, commonly known as the United Kingdom(UK) or Britain, is a sovereign state in Europe."},{id:4,country_id:3,title:"Madrid",desc:"The United Kingdom of Great Britain and Northern Ireland, commonly known as the United Kingdom(UK) or Britain, is a sovereign state in Europe."},{id:5,country_id:4,title:"Berlin",desc:"The United Kingdom of Great Britain and Northern Ireland, commonly known as the United Kingdom(UK) or Britain, is a sovereign state in Europe."},{id:6,country_id:4,title:"Munich",desc:"The United Kingdom of Great Britain and Northern Ireland, commonly known as the United Kingdom(UK) or Britain, is a sovereign state in Europe."},{id:7,country_id:4,title:"Hamburg",desc:"The United Kingdom of Great Britain and Northern Ireland, commonly known as the United Kingdom(UK) or Britain, is a sovereign state in Europe."}],countriesList:[{id:1,title:"United Kingdom",text:"The United Kingdom of Great Britain and Northern Ireland, commonly known as the United Kingdom(UK) or Britain, is a sovereign state in Europe."},{id:2,title:"France",text:"France, officially the French Republic, is a unitary sovereign state comprising territory in western Europe and several overseas regions and territories."},{id:3,title:"Spain",text:"Spain, officially the Kingdom of Spain, is a sovereign state located on the Iberian Peninsula in southwestern Europe."},{id:4,title:"Germany",text:"Germany, officially the Federal Republic of Germany, is a federal parliamentary republic in western - central Europe."}]}}return a()(e,[{key:"dispatch",value:function(t,e,n){this.reducers[t]&&(this.state=this.reducers[t](e,this.state,n)),this.eventService.publish("stateChanged",this.state)}}]),e}(),V=function(){function t(){s()(this,t),this.channels={}}return a()(t,[{key:"subscribe",value:function(t,e){this.channels[t]||(this.channels[t]=[]),this.channels[t].push(e)}},{key:"unSubscribe",value:function(t,e){this.channels[t]&&(this.channels[t]=this.channels[t].filter(function(t){return t!==e}))}},{key:"publish",value:function(t,e){this.channels[t]&&this.channels[t].length&&this.channels[t].forEach(function(t){t(e)})}}]),t}();function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var q=function(){function e(t){s()(this,e),this.store=t.store,this.initHandlers(),this.countrySelected(1)}return a()(e,[{key:"initHandlers",value:function(){var e=this;this.handlers={countrySelected:function(t){return e.countrySelected(t)},addCityMode:function(){return e.openCityMode()},submitAddCity:function(t){return e.submitCityAdd(t)},cancelAddCity:function(){return e.cancelCityAdd()},editCityMode:function(t){return e.editCityMode(t)},deleteCity:function(t){return e.deleteCity(t)}}}},{key:"dispatch",value:function(t,e){this.handlers[t]&&this.handlers[t](e)}},{key:"countrySelected",value:function(t){this.store.dispatch("CHANGE_COUNTRY",t)}},{key:"openCityMode",value:function(){this.store.dispatch("OPEN_EDITOR",{hidden:!1,title:"",desc:""})}},{key:"submitCityAdd",value:function(t){t.id?this.store.dispatch("CHANGE_CITY",t):this.store.dispatch("ADD_CITY",t)}},{key:"cancelCityAdd",value:function(){this.store.dispatch("CLOSE_EDITOR")}},{key:"editCityMode",value:function(t){this.store.dispatch("OPEN_EDITOR",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{hidden:!1}))}},{key:"deleteCity",value:function(t){this.store.dispatch("DELETE_CITY",t)}}]),e}();try{history.pushState("app","","/countries_app")}catch(t){console.log("index.html")}var H=new V,F=new M({eventService:H}),G=new q({store:F});new T({anchor:document.body,actionService:G,eventService:H,state:F.state})}]);
//# sourceMappingURL=main.js.map